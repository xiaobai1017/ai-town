import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import React from 'react';
import { X, TrendingUp, Users, Landmark, History } from 'lucide-react';
export function LocationPanel({ location, onClose }) {
    const [showHistory, setShowHistory] = React.useState(false);
    if (!location)
        return null;
    return (_jsxs("div", { className: "fixed top-20 right-8 w-80 bg-white/90 backdrop-blur-md rounded-2xl shadow-2xl border border-white/50 animate-in slide-in-from-right duration-300 z-40 overflow-hidden", children: [_jsxs("div", { className: "p-4 bg-slate-800 text-white flex justify-between items-center", children: [_jsxs("div", { className: "flex items-center gap-2", children: [_jsx(Landmark, { size: 18, className: "text-indigo-400" }), _jsx("h2", { className: "text-lg font-bold", children: location.name })] }), _jsx("button", { onClick: onClose, className: "p-1 hover:bg-slate-700 rounded-full transition-colors", children: _jsx(X, { size: 20 }) })] }), _jsxs("div", { className: "p-6 space-y-6", children: [_jsxs("div", { className: "flex items-center justify-between", children: [_jsxs("div", { className: "flex items-center gap-2 text-slate-500", children: [_jsx(Users, { size: 18 }), _jsx("span", { className: "text-sm font-semibold", children: "Total Visits" })] }), _jsx("span", { className: "text-2xl font-bold text-slate-800", children: location.stats.visits })] }), (location.stats.revenue > 0 || location.stats.transactions.length > 0) && (_jsxs("div", { className: "space-y-3", children: [_jsxs("div", { className: "p-4 bg-emerald-50 rounded-xl border border-emerald-100", children: [_jsxs("div", { className: "flex items-center justify-between mb-1", children: [_jsxs("div", { className: "flex items-center gap-2 text-emerald-700", children: [_jsx(TrendingUp, { size: 18 }), _jsx("span", { className: "text-xs font-bold uppercase tracking-wider", children: "Total Revenue" })] }), _jsxs("button", { onClick: () => setShowHistory(!showHistory), className: "text-[10px] font-black uppercase text-emerald-600 hover:underline flex items-center gap-1", children: [_jsx(History, { size: 12 }), showHistory ? 'Hide' : 'View Details'] })] }), _jsxs("div", { className: "text-3xl font-black text-emerald-600", children: ["$", location.stats.revenue.toFixed(2)] })] }), showHistory && (_jsxs("div", { className: "bg-slate-900 text-slate-300 p-4 rounded-xl space-y-2 max-h-48 overflow-y-auto border border-slate-700 font-mono text-[10px] animate-in slide-in-from-top duration-200 shadow-inner", children: [_jsx("h3", { className: "text-[9px] uppercase font-black text-slate-500 border-b border-slate-800 pb-1 mb-2 tracking-widest", children: "Revenue Ledger" }), location.stats.transactions.length === 0 ? (_jsx("p", { className: "text-slate-600 italic", children: "No transaction records found." })) : (location.stats.transactions.map((t, i) => (_jsxs("div", { className: "flex justify-between items-start gap-2 border-b border-slate-800/50 pb-1 last:border-0 text-left", children: [_jsx("div", { className: "flex-1", children: _jsx("p", { className: "text-slate-100 font-bold break-all", children: t.description }) }), _jsxs("div", { className: `text-right font-black ${t.amount >= 0 ? 'text-emerald-400' : 'text-rose-400'}`, children: [t.amount >= 0 ? '+' : '', t.amount.toFixed(2)] })] }, i))))] }))] })), location.stats.extra && (_jsxs("div", { className: "grid grid-cols-2 gap-4", children: [location.stats.extra.deposits !== undefined && (_jsxs("div", { className: "bg-indigo-50 p-3 rounded-xl border border-indigo-100 text-center", children: [_jsx("div", { className: "text-[10px] uppercase font-bold text-indigo-400 mb-1", children: "Total Deposits" }), _jsxs("div", { className: "text-lg font-bold text-indigo-600", children: ["$", location.stats.extra.deposits.toFixed(2)] })] })), location.stats.extra.withdrawals !== undefined && (_jsxs("div", { className: "bg-amber-50 p-3 rounded-xl border border-amber-100 text-center", children: [_jsx("div", { className: "text-[10px] uppercase font-bold text-amber-400 mb-1", children: "Total Withdrawals" }), _jsxs("div", { className: "text-lg font-bold text-amber-600", children: ["$", location.stats.extra.withdrawals.toFixed(2)] })] })), location.stats.extra.loans !== undefined && (_jsxs("div", { className: "bg-rose-50 p-3 rounded-xl border border-rose-100 text-center col-span-2", children: [_jsx("div", { className: "text-[10px] uppercase font-bold text-rose-400 mb-1", children: "Total Loans Issued" }), _jsxs("div", { className: "text-lg font-bold text-rose-600", children: ["$", location.stats.extra.loans.toFixed(2)] })] })), location.stats.extra.arrests !== undefined && (_jsxs("div", { className: "bg-red-50 p-3 rounded-xl border border-red-100 text-center", children: [_jsx("div", { className: "text-[10px] uppercase font-bold text-red-400 mb-1", children: "Total Arrests" }), _jsx("div", { className: "text-lg font-bold text-red-600", children: location.stats.extra.arrests })] })), location.stats.extra.bailCollected !== undefined && (_jsxs("div", { className: "bg-emerald-50 p-3 rounded-xl border border-emerald-100 text-center", children: [_jsx("div", { className: "text-[10px] uppercase font-bold text-emerald-400 mb-1", children: "Bail Collected" }), _jsxs("div", { className: "text-lg font-bold text-emerald-600", children: ["$", location.stats.extra.bailCollected.toFixed(2)] })] }))] })), _jsxs("div", { className: "pt-4 border-t border-slate-100", children: [_jsx("div", { className: "text-[10px] text-slate-400 font-bold uppercase mb-2", children: "Location Info" }), _jsxs("div", { className: "flex justify-between text-sm mt-1", children: [_jsx("span", { className: "text-slate-500", children: "Type" }), _jsx("span", { className: "capitalize font-medium text-slate-700", children: location.type })] })] })] })] }));
}
